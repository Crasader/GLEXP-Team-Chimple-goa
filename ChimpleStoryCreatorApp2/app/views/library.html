<div flex layout-fill ng-controller="LibraryCtrl">
    <md-toolbar layout="row" ng-class="__layout.screen" layout-align="space-between center">
        <!--The left side-->
        <span> <h2 class="md-toolbar-tools"> Chimple - Stories </h2></span>
        <!--The right side-->
    <span>
        <md-button aria-label="Create Story" href="/#/createStory">Create Story</md-button>
    </span>
    </md-toolbar>
    <md-content flex id="content" layout="row">
        <!--<div layout-wrap ng-class="__layout.paddingStyle" layout-align="center center" flex cardtemplate="views/book.html" source="stories" deckgrid class="deckgrid"></div>-->
        <div layout-wrap ng-class="__layout.paddingStyle" layout-align="center center" flex>
            <md-grid-list
                    md-row-height="3:2"
                    md-cols="1"
                    md-cols-lg="4"
                    md-cols-md="3"
                    md-cols-sm="2"                    
                    md-gutter="10px"
                    md-gutter-md="8px"
                    md-gutter-sm="4px">
                <md-grid-tile
                        ng-repeat="story in stories"
                        ng-click="startNarrateStory($event, story)">
                    <div                    
                            style="width: 100%; height: 100%; background-size: calc(100%) calc(100%)"
                            ng-style="{'background-image': 'url(' + story.imgSrc +')'}"                            
                            >
                            <div class="innerdiv">
                                <md-button ng-click="deleteStory($index, story);$event.stopPropagation()" aria-label="delete" class="md-fab md-mini"><md-icon md-svg-icon="assets/images/icons/ic_delete_white_18px.svg"></md-icon></md-button>
                                <md-button ng-click="syncToServer(story);$event.stopPropagation()" aria-label="sync" class="md-fab md-mini">
                                  <img src="./assets/images/icons/internet_button.png" style="my-img-button" alt="Sync Internet">
                                </md-button>
                                <md-button ng-click="editStory($event, story);$event.stopPropagation()" aria-label="create" class="md-fab md-mini"><md-icon md-svg-icon="assets/images/icons/ic_create_white_18px.svg"></md-icon></md-button>

                            </div>
                            
                    </div>
                    <md-grid-tile-footer>
                            <span><h3>{{story.title}}</h3></span>
                    </md-grid-tile-footer>
                </md-grid-tile>
            </md-grid-list>
        </div>
    </md-content>
</div>

